.rdb-board
  = link_to '', rdb_taskboard_path, :class => "rdb-async", :id => "rdb-refresh"

  - render_rdb_menu @board.name, :header => :h2 do
    - render_rdb_menu_list [:taskboard, :planningboard] do |board|
      = link_to t("rdb_#{board}"), send(:"rdb_#{board}_path")

.rdb-filter.rdb-async
  - render_rdb_menu @board.filters[:version].title do
    - render_rdb_menu_list [:all, :unassigned] do |val|
      = link_to t("rdb_filter_version_#{val}"), rdb_taskboard_path(:filters => {:version => val})
    - render_rdb_menu_list @board.filters[:version].versions do |val|
      = link_to val.name, rdb_taskboard_path(:filters => {:version => val.id})
    - #render_rdb_menu_list @board.filters[:version].done_versions do |val|
    - #  = link_to val.name, rdb_taskboard_path(:filters => {:version => val.id})

.rdb-filter.rdb-evt-tracker-filter.rdb-async
  - render_rdb_menu @board.filters[:tracker].title, :icons => true do
    - render_rdb_menu_list [:all] do |val|
      = link_to t("rdb_filter_tracker_#{val}"), rdb_taskboard_path(:filters => {:tracker => val})
    - render_rdb_menu_list @project.trackers do |val|
      %span.rdb-multicheck{ :'data-rdb-tracker' => val.id }
        = rdb_checkbox_link_to '', rdb_taskboard_path(:filters => {:tracker => val.id}), :enabled => @board.filters[:tracker].accept_tracker?(val.id), :show_disabled => true
        = link_to val.name, rdb_taskboard_path(:filters => {:tracker => val.id, :only => true}), :class => 'rdb-evt-tracker-replace'

.rdb-filter.rdb-async
  - render_rdb_menu @board.filters[:assignee].title do
    - render_rdb_menu_list [:all, :me, :none] do |val|
      = link_to t("rdb_filter_assignee_#{val}"), rdb_taskboard_path(:filters => {:assignee => val})
    - render_rdb_menu_list @project.members do |val|
      = link_to val.name, rdb_taskboard_path(:filters => {:assignee => val.id})

.rdb-option.rdb-async
  - render_rdb_menu t(:rdb_options), :right => true, :icons => true do
    - render_rdb_menu_list do
      - render_rdb_menu_list_item do
        = rdb_checkbox_link_to t(:rdb_options_change_assignee), rdb_taskboard_path(:change_assignee => !@board.options[:change_assignee]),
            :enabled => @board.options[:change_assignee], :title => t(:rdb_options_change_assignee_info)
        = rdb_checkbox_link_to t(:rdb_options_hide_done), rdb_taskboard_path(:hide_done => !@board.options[:hide_done]),
            :enabled => @board.options[:hide_done], :title => t(:rdb_options_hide_done_info)

    - render_rdb_menu_list do
      - render_rdb_menu_list_item do
        = link_to t(:rdb_options_configure), rdb_configure_path, :id => "rdb-configure", :class => 'rdb-sync'
      - render_rdb_menu_list_item do
        = link_to t(:rdb_options_reset), rdb_taskboard_path(:reset => 1), :id => "rdb-reset", :title => t(:rdb_options_reset_info)

.rdb-option.rdb-async
  - render_rdb_menu t(:rdb_options_view), :right => true do
    - render_rdb_menu_list RdbDashboard::VIEW_MODES, :title => t(:rdb_options_issue_view) do |view|
      = rdb_checkbox_link_to t(:"rdb_options_issue_view_#{view}"), rdb_taskboard_path(:view => view), :enabled => @board.options[:view] == view
    - render_rdb_menu_list RdbDashboard::BOARD_MODES, :title => t(:rdb_options_board_view) do |mode|
      = rdb_checkbox_link_to t(:"rdb_options_board_view_#{mode}"), rdb_taskboard_path(:mode => mode), :enabled => @board.options[:mode] == mode
    - if @board.compact?
      - render_rdb_menu_list [:none, :tracker, :category, :priority, :assignee, :version], :title => t(:rdb_options_group) do |group|
        = rdb_checkbox_link_to t(:"rdb_group_#{group}"), rdb_taskboard_path(:group => group), :enabled => @board.options[:group] == group

