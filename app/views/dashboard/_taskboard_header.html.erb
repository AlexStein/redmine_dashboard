<span id="dashboard-version" class="dashboard-header-filter">
  <%= render_dashboard_menu @board.filters[:version].to_options,
    :name => Proc.new { @board.filters[:version].title },
    :link => Proc.new { |name, id| link_to name, taskboard_path(:version => id), :data => { :dashboard => :async }} %>
</span>
<span id="dashboard-tracker" class="dashboard-header-filter">
  <%= render_dashboard_menu @board.filters[:tracker].to_options,
    :name => Proc.new { @board.filters[:tracker].title },
    :link => Proc.new { |name, id| link_to name, taskboard_path(:tracker => id), :data => { :dashboard => :async }} %>
</span>
<span id="dashboard-assignee" class="dashboard-header-filter">
  <%= render_dashboard_menu @board.filters[:assignee].to_options,
    :name => Proc.new { @board.filters[:assignee].title },
    :link => Proc.new { |name, id| link_to name, taskboard_path(:assignee => id), :data => { :dashboard => :async }} %>
</span>
<span id="dashboard-view-options" class="dashboard-header-options">
  <span class="dashboard-menu">
    <a href="#" class="dashboard-menu-link"><%=t :dashboard_options_view %></a>
    <span class="dashboard-menu-container">
      <h4><%=t :dashboard_options_issue_view %></h4>
      <ul>
        <% Dashboard::VIEW_MODES.each do |mode|  %>
          <li><%= link_to t(:"dashboard_options_issue_view_#{mode}"), taskboard_path(:view => mode), :data => { :dashboard => :async },
            :class => @board.options[:view] == mode ? :active : :inactive %></li>
        <% end %>
      </ul>
      <h4><%=t :dashboard_options_board_view %></h4>
      <ul>
        <% Dashboard::BOARD_MODES.each do |mode|  %>
          <li><%= link_to t(:"dashboard_options_board_view_#{mode}"), taskboard_path(:mode => mode), :data => { :dashboard => :async },
            :class => @board.options[:mode] == mode ? :active : :inactive  %></li>
        <% end %>
      </ul>
      <% if @board.compact? %>
        <h4><%=t :dashboard_options_group %></h4>
        <ul>
          <% [:none, :tracker, :category, :priority, :assignee, :version].each do |mode|  %>
            <li><%= link_to t(:"dashboard_group_#{mode}"), taskboard_path(:group => mode), :data => { :dashboard => :async },
              :class => @board.options[:group] == mode ? :active : :inactive  %></li>
          <% end %>
        </ul>
      <% end %>
    </span>
  </span>
</span>
<span id="dashboard-options" class="dashboard-header-options">
  <span class="dashboard-menu">
    <a href="#" class="dashboard-menu-link"><%=t :dashboard_options %></a>
    <span class="dashboard-menu-container">
      <ul>
        <li><%= link_to t(:dashboard_options_change_assignee), taskboard_path(:change_assignee => !@board.options[:change_assignee]),
          :class => (@board.options[:change_assignee] ? 'active' : 'inactive'), :title => t(:dashboard_options_change_assignee_info),
          :data => { :dashboard => :async } %></li>
        <li><%= link_to t(:dashboard_options_hide_done), taskboard_path(:hide_done => !@board.options[:hide_done]),
          :class => (@board.options[:hide_done] ? 'active' : 'inactive'), :title => t(:dashboard_options_hide_done_info),
          :data => { :dashboard => :async } %></li>
      </ul>
      <ul>
        <li><%= link_to t(:dashboard_options_reset), taskboard_path(:reset => 1), :data => { :dashboard => :async }, :class => "inactive dashboard-reset",
          :title => t(:dashboard_options_reset_info) %></li>
      </ul>
    </span>
  </span>
</span>
